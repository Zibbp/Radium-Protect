(function(t){function e(e){for(var n,r,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);v&&v(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},s={app:0},o=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"eb59c767"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={about:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"fba5bb1e"}[t]+".css",s=c.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var l=o[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===s))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===n||u===s)return e()}var v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.onload=e,v.onerror=function(e){var n=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[t],v.parentNode.removeChild(v),a(o)},v.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(v)})).then((function(){r[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(v);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}s[t]=void 0}};var v=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var v=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"193c":function(t,e,a){"use strict";var n=a("21e1"),r=a.n(n);r.a},"21e1":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"protect"},[a("v-app-bar",{attrs:{color:"deep-purple accent-4",fixed:"",app:"",dense:"",flat:"",dark:""}},[a("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.invert}},[a("v-icon",[t._v("mdi-invert-colors")])],1)],1),a("v-main",[a("router-view")],1)],1)},s=[],o={name:"App",components:{},data:function(){return{title:"Protect 🔒"}},mounted:function(){},methods:{invert:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark}}},i=o,c=a("2877"),l=a("6544"),u=a.n(l),d=a("7496"),v=a("40dc"),p=a("8336"),f=a("132d"),m=a("f6c4"),h=a("2fa4"),b=a("2a7f"),g=Object(c["a"])(i,r,s,!1,null,null,null),x=g.exports;u()(g,{VApp:d["a"],VAppBar:v["a"],VBtn:p["a"],VIcon:f["a"],VMain:m["a"],VSpacer:h["a"],VToolbarTitle:b["a"]});a("d3b7");var _=a("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("v-container",[a("StreamStats"),a("div",{staticClass:"spacer"}),a("Users")],1)],1)},w=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-h4"},[t._v("Stream Stats")]),t.statsLoaded?a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Stream Key")]),a("th",{staticClass:"text-left"},[t._v("Bitrate")]),a("th",{staticClass:"text-left"},[t._v("Total In")]),a("th",{staticClass:"text-left"},[t._v("Uptime")]),a("th",{staticClass:"text-left"},[t._v("Video Resolution")]),a("th",{staticClass:"text-left"},[t._v("Video Codec")]),a("th",{staticClass:"text-left"},[t._v("Audio Codec")])])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t.streams.name))]),a("td",[t._v(t._s(t.streams.bw_in)+"/s")]),a("td",[t._v(t._s(t.streams.bytes_in))]),a("td",[t._v(t._s(t.streams.time)+" minutes")]),a("td",[t._v(" "+t._s(t.streams.video.width)+"x"+t._s(t.streams.video.height)+" @ "+t._s(t.streams.video.frame_rate)+" fps ")]),a("td",[t._v(t._s(t.streams.video.codec))]),a("td",[t._v(t._s(t.streams.audio.codec))])])])]},proxy:!0}],null,!1,843015071)}):t._e(),t.noStream?a("div",{staticClass:"text-5"},[t._v("No stream found :/")]):t._e(),t.statsLoading?a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image"}}):t._e(),a("v-snackbar",{attrs:{timeout:"2000",color:"red"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},C=[],S=(a("96cf"),a("1da1")),V={data:function(){return{snackbar:!1,text:"Error loading stats",statsLoaded:!1,statsLoading:!0,noStream:!1,streams:[]}},mounted:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("http://localhost:7090/api/v1/admin/stats",{headers:{"x-auth-token":t.$store.state.token}});case 3:a=e.sent,t.streams=a.data.data.stream,t.statsLoaded=!0,t.statsLoading=!1,t.noStream=!1,e.next=16;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),t.statsLoaded=!1,t.statsLoading=!1,t.noStream=!0;case 16:t.$nextTick((function(){var t=this;window.setInterval(Object(S["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("http://localhost:7090/api/v1/admin/stats",{headers:{"x-auth-token":t.$store.state.token}});case 3:a=e.sent,t.streams=a.data.data.stream,t.statsLoaded=!0,t.statsLoading=!1,t.noStream=!1,e.next=16;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),t.statsLoaded=!1,t.statsLoading=!1,t.noStream=!0;case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),6e4)}));case 17:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},L=V,A=a("1f4f"),O=a("3129"),U=a("2db4"),j=Object(c["a"])(L,y,C,!1,null,null,null),$=j.exports;u()(j,{VBtn:p["a"],VSimpleTable:A["a"],VSkeletonLoader:O["a"],VSnackbar:U["a"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-h4"},[t._v(" Users "),a("v-btn",{attrs:{color:"primary",depressed:"",elevation:"2"},on:{click:function(e){t.dialog=!0}}},[t._v("Add User")])],1),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Id")]),a("th",{staticClass:"text-left"},[t._v("Username")]),a("th",{staticClass:"text-left"},[t._v("Admin")]),a("th",{staticClass:"text-left"},[t._v("Actions")])])]),a("tbody",t._l(t.users,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.username))]),a("td",[e.isAdmin?a("div",[t._v("☑️")]):a("div",[t._v("✖️")])]),a("td",[a("v-btn",{attrs:{depressed:"",icon:"",outlined:"",elevation:"2",color:"red",small:""},on:{click:function(a){return t.deleteUser(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}])}),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"card-title"},[a("span",{staticClass:"headline"},[t._v("Add User")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:"Is Admin"},model:{value:t.isAdmin,callback:function(e){t.isAdmin=e},expression:"isAdmin"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"amber accent-4 darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{color:"deep-purple accent-4",depressed:"",elevation:"2",dark:"",loading:t.addUserLoading},on:{click:t.addUser}},[t._v("Add User")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:"2000",color:"red"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},E=[],R={data:function(){return{snackbar:!1,text:"Error",dialog:!1,isAdmin:!1,username:"",password:"",addUserLoading:!1,users:[]}},mounted:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("http://localhost:7090/api/v1/admin/users",{headers:{"x-auth-token":t.$store.state.token}});case 2:a=e.sent,t.users=a.data.users;case 4:case"end":return e.stop()}}),e)})))()},methods:{addUser:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.username&&""!=t.password){e.next=4;break}t.dialog=!0,e.next=17;break;case 4:return e.prev=4,t.addUserLoading=!0,e.next=8,t.$axios.post("http://localhost:7090/api/v1/admin/add",{username:t.username,password:t.password,isAdmin:t.isAdmin},{headers:{"x-auth-token":t.$store.state.token}});case 8:a=e.sent,200==a.status&&(t.username="",t.password="",t.isAdmin=!1,t.addUserLoading=!1,t.dialog=!1,t.getUsers()),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](4),t.addUserLoading=!1,t.snackbar=!0,console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})))()},getUsers:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("http://localhost:7090/api/v1/admin/users",{headers:{"x-auth-token":t.$store.state.token}});case 2:a=e.sent,t.users=a.data.users;case 4:case"end":return e.stop()}}),e)})))()},deleteUser:function(t){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.delete("http://localhost:7090/api/v1/admin/users/".concat(t),{headers:{"x-auth-token":e.$store.state.token}});case 3:e.getUsers(),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}}},P=R,I=(a("193c"),a("b0af")),B=a("99d9"),N=a("ac7c"),M=a("62ad"),q=a("a523"),D=a("169a"),H=a("0fd9"),F=a("8654"),J=Object(c["a"])(P,T,E,!1,null,null,null),K=J.exports;u()(J,{VBtn:p["a"],VCard:I["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VCheckbox:N["a"],VCol:M["a"],VContainer:q["a"],VDialog:D["a"],VIcon:f["a"],VRow:H["a"],VSimpleTable:A["a"],VSnackbar:U["a"],VSpacer:h["a"],VTextField:F["a"]});var z={name:"Home",components:{StreamStats:$,Users:K}},G=z,Q=(a("cccb"),Object(c["a"])(G,k,w,!1,null,null,null)),W=Q.exports;u()(Q,{VContainer:q["a"]});var X=a("2f62");n["a"].use(X["a"]);var Y=new X["a"].Store({state:{loggedIn:!1,token:null},mutations:{setToken:function(t,e){t.token=e},setLoggedIn:function(t){t.loggedIn=!0}},actions:{},modules:{}});n["a"].use(_["a"]);var Z=[{path:"/",name:"Home",component:W,beforeEnter:function(t,e,a){0==Y.state.loggedIn?a({name:"Login"}):a()}},{path:"/login",name:"Login",component:function(){return a.e("about").then(a.bind(null,"a55b"))}}],tt=new _["a"]({routes:Z}),et=tt,at=a("f309");n["a"].use(at["a"]);var nt=new at["a"]({}),rt=a("bc3a"),st=a.n(rt);n["a"].prototype.$axios=st.a,n["a"].config.productionTip=!1,new n["a"]({router:et,store:Y,vuetify:nt,render:function(t){return t(x)}}).$mount("#app")},"5ced":function(t,e,a){},cccb:function(t,e,a){"use strict";var n=a("5ced"),r=a.n(n);r.a}});
//# sourceMappingURL=app.1b0e6c63.js.map